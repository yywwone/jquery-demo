<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>制作留言板前端局部更新效果</title>
<link href="css/style.css" rel="stylesheet" type="text/css" />
<script src="js/jquery-1.11.1.min.js"></script>
<script>
$(function(){
	//设置聚焦失焦时，提示语的显隐
	$(".text").each(function(){
		//保存当前文本框的值
		var vdefault = this.value;
		//获得焦点时，如果值为默认值，则设置为空
		$(this).focus(function(){
			if($(this).val()==vdefault){
				$(this).val("");
			}
		})
		//拾取焦点时，如果值为空，则设置为默认值
		$(this).blur(function(){
			if(this.value==""){
				this.value=vdefault;
			}
	});
	
});
	//给button添加鼠标点击事件
	$("input[type='button']").click(function(){
		//获取文本内容
		var Name = $("input[name]").val();
		var Content =$("textarea").val();
		//判断文本内容是否为默认值
		if(Name!="你的昵称"&& Content!="你要说的话"){
			//生成新元素
			var msg="<li><span>"+Name+"</span><p>"+Content+"</p></li>";
			//添加新留言
			$("ul").append(msg);
			//重置文本框
			$("input[name]").val("你的昵称");
			$("textarea").val("你要说的话");
		}
	});
});
</script>
</head>
<body>
<h1>制作留言板前端局部更新效果</h1>
<ul>
	<li>
    	<span>功夫熊猫</span>
    	<p>欢迎你</p>
	</li>
</ul>
<form method="post">
	<h2>Message</h2>
	<label for="Name">昵称</label>
	<input type="text" name="Name" class="text" value="你的昵称" />
	<label for="Content">留言内容</label>
	<textarea name="Content" class="text" rows="4">你要说的话</textarea>
	<input type="button" value="单击这里提交留言" />
</form>
</body>
</html>
